<dialog id="{{ 'modal_blog_detail' }}" class="modal">
  <div class="modal-box w-11/12 max-w-xl max-h-11/12">
    <!-- X BUTTON -->
    <form method="dialog">
      <button class="btn btn-sm btn-circle btn-ghost absolute right-2 top-2">✕</button>
    </form>

    <h2 class="text-lg font-semibold">{{ blog().blog.title }}</h2>
    <div class="flex items-center gap-2 text-xs py-2">
      <span>{{ blog().blog.author?.firstName }} {{ blog().blog.author?.lastName }}</span>
      <span>•</span>
      <span class="flex items-center">
        <!-- CALENDAR ICON HERE -->
        {{ blog().blog.publishedDate }}
      </span>
      <span>•</span>
      <span>{{ blog().blog.category?.name }}</span>
    </div>

    <div class="space-y-4 pt-4">
      <div class="aspect-video w-full bg-muted rounded-md flex items-center justify-center">
        @if (blog().blog.video) {
          <video controls class="w-full h-full">
            <source src="{{ blog().blog.video }}" type="video/mp4" />
          </video>
        } @else if (blog().blog.image) {
          <img src="{{ blog().blog.image }}" alt="{{ blog().blog.title }}" class="w-full h-full object-cover" />
        } @else {
          <div class="text-center opacity-80">
            <p class="text-sm">No image or video found.</p>
          </div>
        }
      </div>
      <div class="space-y-4 text-sm opacity-80">
        {{ blog().blog.content }}
      </div>
      <div class="flex gap-4">
        <div>
          <h3 class="text-sm font-medium mb-2">Reactions</h3>
          <div class="flex gap-4">
            <div class="text-center">
              <p class="text-lg font-bold">{{ blog().reactionCount }}</p>
              <p class="text-xs text-muted-foreground">Likes</p>
            </div>
          </div>
        </div>

        <div>
          <h3 class="text-sm font-medium mb-2">Comments</h3>
          <div class="flex gap-4">
            <div class="text-center">
              <p class="text-lg font-bold">{{ blog().commentCount }}</p>
              <p class="text-xs text-muted-foreground">Likes</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="modal-action mt-4">
      <form method="dialog" class="space-x-2">
        <button class="btn">Close</button>

        <modal-open-button
          [modalName]="'modal_blog_edit'"
          [label]="'Edit'"
          [classes]="'btn-primary'"
          (click)="blogService.selectedBlog = blog()"
        >
          <i class="material-symbols-outlined !text-xl mr-2">edit_square</i>
        </modal-open-button>
      </form>
    </div>
  </div>
  <form method="dialog" class="modal-backdrop">
    <button>close</button>
  </form>
</dialog>
